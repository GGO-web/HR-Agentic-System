# –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫ - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## ‚úÖ –©–æ –±—É–ª–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### Backend (Python FastAPI)

1. **–ú–æ–¥—É–ª—å –≥—ñ–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ—à—É–∫—É** (`apps/api/services/`)
   - `document_loader.py` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞ –ø–∞—Ä—Å–∏–Ω–≥ PDF/DOCX
   - `text_sanitizer.py` - –æ—á–∏—â–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ç–∞ –º–∞—Å–∫—É–≤–∞–Ω–Ω—è PII
   - `hybrid_matcher.py` - –≥—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫ (Vector + BM25)
   - `hybrid_search_service.py` - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è ETL pipeline

2. **API Routes** (`apps/api/routes/hybrid_search.py`)
   - `POST /api/v1/hybrid-search/process-resume` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—é–º–µ
   - `POST /api/v1/hybrid-search/find-matches` - –ø–æ—à—É–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π
   - `GET /api/v1/hybrid-search/health` - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É

3. **–¢–µ—Å—Ç–∏** (`apps/api/tests/`)
   - Unit —Ç–µ—Å—Ç–∏ –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
   - Integration —Ç–µ—Å—Ç–∏ –¥–ª—è API endpoints

### Frontend (React + TypeScript)

1. **Hooks** (`apps/web/src/routes/dashboard/-components/HRDashboard/hooks/`)
   - `useProcessResumeMutation.ts` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—é–º–µ
   - `useFindMatchesMutation.ts` - –ø–æ—à—É–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏** (`apps/web/src/routes/dashboard/-components/HRDashboard/components/`)
   - `ResumeUpload/ResumeUpload.tsx` - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—é–º–µ
   - `ResumeMatchSearch/ResumeMatchSearch.tsx` - –ø–æ—à—É–∫ —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

3. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è**
   - –î–æ–¥–∞–Ω–æ —Å–µ–∫—Ü—ñ—é "Resume Matching" –≤ HR Dashboard
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –æ–ø–∏—Å—É –≤–∞–∫–∞–Ω—Å—ñ—ó –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ Job Description

4. **–ü–µ—Ä–µ–∫–ª–∞–¥–∏** (`apps/web/src/i18n/locales/en.json`)
   - –î–æ–¥–∞–Ω–æ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –¥–ª—è –Ω–æ–≤–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤

## üöÄ –Ø–∫ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏

### –ö—Ä–æ–∫ 1: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# Backend
cd apps/api
pip install -r requirements.txt

# Frontend (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
cd ../../apps/web
pnpm install
```

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å–∫ Backend API

```bash
cd apps/api
python -m uvicorn app.main:app --reload --port 8000
```

API –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–µ –Ω–∞ `http://localhost:8000`

### –ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å–∫ Frontend

```bash
cd apps/web
pnpm dev
```

Frontend –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:5173` (–∞–±–æ —ñ–Ω—à–∏–π –ø–æ—Ä—Ç)

### –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ UI

1. **–£–≤—ñ–π–¥—ñ—Ç—å —è–∫ HR Manager**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:5173
   - –£–≤—ñ–π–¥—ñ—Ç—å —á–µ—Ä–µ–∑ Clerk

2. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ä–µ–∑—é–º–µ**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ Dashboard
   - –ó–Ω–∞–π–¥—ñ—Ç—å —Å–µ–∫—Ü—ñ—é "Resume Matching"
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Upload Resume"
   - –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ PDF –∞–±–æ DOCX —Ñ–∞–π–ª
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö

3. **–°—Ç–≤–æ—Ä—ñ—Ç—å –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å Job Description**
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É –≤–∞–∫–∞–Ω—Å—ñ—é –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á—É
   - –û–ø–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω–∏—Ç—å—Å—è –≤ –ø–æ–ª—ñ –ø–æ—à—É–∫—É

4. **–ó–Ω–∞–π–¥—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ**
   - –í–≤–µ–¥—ñ—Ç—å –∞–±–æ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –æ–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó
   - –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –ø–æ—à—É–∫—É:
     - **Hybrid** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) - –∫–æ–º–±—ñ–Ω—É—î –≤–µ–∫—Ç–æ—Ä–Ω–∏–π —Ç–∞ –∫–ª—é—á–æ–≤–∏–π –ø–æ—à—É–∫
     - **Vector** - —Ç—ñ–ª—å–∫–∏ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∏–π –ø–æ—à—É–∫
     - **Keyword** - —Ç—ñ–ª—å–∫–∏ –∫–ª—é—á–æ–≤–∏–π –ø–æ—à—É–∫ (BM25)
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Find Matches"
   - –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑—ñ —Å–∫–æ—Ä–æ–º —Ç–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏–º–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏

### –ö—Ä–æ–∫ 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ API (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

#### Health Check
```bash
curl http://localhost:8000/api/v1/hybrid-search/health
```

#### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—é–º–µ
```bash
curl -X POST http://localhost:8000/api/v1/hybrid-search/process-resume \
  -F "file=@path/to/your/resume.pdf" \
  -F "candidate_id=123"
```

#### –ü–æ—à—É–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π
```bash
curl -X POST http://localhost:8000/api/v1/hybrid-search/find-matches \
  -H "Content-Type: application/json" \
  -d '{
    "job_description": "Python developer with FastAPI experience",
    "k": 5,
    "search_type": "hybrid"
  }'
```

### –ö—Ä–æ–∫ 6: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
cd apps/api
pytest tests/ -v
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
apps/api/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ document_loader.py          # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è PDF/DOCX
‚îÇ   ‚îú‚îÄ‚îÄ text_sanitizer.py           # –û—á–∏—â–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É
‚îÇ   ‚îú‚îÄ‚îÄ hybrid_matcher.py           # –ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫
‚îÇ   ‚îú‚îÄ‚îÄ hybrid_search_service.py    # –ì–æ–ª–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îî‚îÄ‚îÄ README_HYBRID_SEARCH.md     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ hybrid_search.py            # API endpoints
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ hybrid_search.py            # Pydantic —Å—Ö–µ–º–∏
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ test_hybrid_search.py       # Unit —Ç–µ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_api_routes.py          # API —Ç–µ—Å—Ç–∏
‚îî‚îÄ‚îÄ TESTING_GUIDE.md                 # –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

apps/web/src/routes/dashboard/-components/HRDashboard/
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useProcessResumeMutation.ts  # Hook –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
‚îÇ   ‚îî‚îÄ‚îÄ useFindMatchesMutation.ts   # Hook –¥–ª—è –ø–æ—à—É–∫—É
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ ResumeUpload/
    ‚îÇ   ‚îî‚îÄ‚îÄ ResumeUpload.tsx         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    ‚îî‚îÄ‚îÄ ResumeMatchSearch/
        ‚îî‚îÄ‚îÄ ResumeMatchSearch.tsx   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ—à—É–∫—É
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Environment Variables

**Backend** (`.env` –≤ `apps/api/`):
```env
# –í–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –¥–ª—è —ñ–Ω—à–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
```

**Frontend** (`.env` –≤ `apps/web/`):
```env
VITE_API_URL=http://localhost:8000
```

### ChromaDB Persistence

ChromaDB –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω–¥–µ–∫—Å–∏ –≤ `./chroma_db` (–≤ `apps/api/`).
–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ —ñ–Ω–¥–µ–∫—Å–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

## üéØ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

1. **–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø–æ—à—É–∫**
   - –í–∞–≥–∏: 0.7 (Vector) + 0.3 (BM25)
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å –º—ñ–∂ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∏–º —Ç–∞ –∫–ª—é—á–æ–≤–∏–º –ø–æ—à—É–∫–æ–º

2. **PII Masking**
   - Email ‚Üí `<EMAIL_REDACTED>`
   - –¢–µ–ª–µ—Ñ–æ–Ω–∏ (UA) ‚Üí `<PHONE_REDACTED>`
   - –ü–æ—Å–∏–ª–∞–Ω–Ω—è ‚Üí `<LINK_REDACTED>`

3. **Chunking**
   - –†–æ–∑–º—ñ—Ä —á–∞–Ω–∫–∞: 500 —Å–∏–º–≤–æ–ª—ñ–≤
   - Overlap: 50 —Å–∏–º–≤–æ–ª—ñ–≤
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è MPNet embeddings

4. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å**
   - –í—Å—ñ I/O –æ–ø–µ—Ä–∞—Ü—ñ—ó –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ
   - –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ FastAPI

## üêõ Troubleshooting

### –ü–æ–º–∏–ª–∫–∞: "Documents must be indexed"
**–†—ñ—à–µ–Ω–Ω—è:** –°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ä–µ–∑—é–º–µ —á–µ—Ä–µ–∑ UI –∞–±–æ API

### –ü–æ–º–∏–ª–∫–∞: "File not found"
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É (PDF/DOCX) —Ç–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

### Frontend: API –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 8000
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `VITE_API_URL` –≤ `.env`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `app/main.py`

### ChromaDB –ø–æ–º–∏–ª–∫–∏
**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ `./chroma_db`
2. –í–∏–¥–∞–ª—ñ—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é —Ç–∞ –ø–µ—Ä–µ—ñ–Ω–¥–µ–∫—Å—É–π—Ç–µ: `rm -rf chroma_db`

## üìö –î–æ–¥–∞—Ç–∫–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

- `apps/api/services/README_HYBRID_SEARCH.md` - –¥–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –º–æ–¥—É–ª—è
- `apps/api/TESTING_GUIDE.md` - —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- `apps/api/tests/README_TESTS.md` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç—ñ–≤

## ‚ú® –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. –î–æ–¥–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—é–º–µ –≤ Convex –¥–ª—è –∑–≤'—è–∑–∫—É –∑ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏
2. –î–æ–¥–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º
3. –î–æ–¥–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –ø–æ—à—É–∫—É
4. –ü–æ–∫—Ä–∞—â–∏—Ç–∏ UI –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
5. –î–æ–¥–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –ø–æ—à—É–∫—É

